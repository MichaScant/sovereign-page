{"ast":null,"code":"var _jsxFileName = \"/Users/michael/Desktop/sovereign-page/soveriegn-home/src/GridGame.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport \"./GridGame.css\";\nimport { DndContext, useDraggable, DragOverlay } from '@dnd-kit/core';\nimport { Draggable } from './Draggable';\nimport { Droppable_Green } from './Droppable_green';\nimport { Droppable_white } from './Droppable_white';\nimport { Draggable2 } from './Draggable2';\nimport './DraggableProperties';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar isTurnRed = true;\nvar isTurnBlack = false;\n\nfunction buildGrid() {\n  var grid = [];\n  var element = 1;\n\n  for (let y = 1; y < 9; y++) {\n    grid[y] = [];\n\n    for (let x = 1; x < 9; x++) {\n      grid[y][x] = String(element);\n      element++;\n    }\n  }\n\n  return grid;\n}\n\nfunction DraggableItem({\n  handle,\n  identifier\n}) {\n  _s();\n\n  const {\n    isDragging,\n    setNodeRef,\n    listeners\n  } = useDraggable({\n    id: String(identifier)\n  });\n  return /*#__PURE__*/_jsxDEV(Draggable, {\n    dragging: isDragging,\n    ref: setNodeRef,\n    handle: handle,\n    listeners: listeners,\n    style: {\n      opacity: isDragging ? 0 : undefined\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n\n_s(DraggableItem, \"nITU3/IULBhQ//L5WdiI3X+UXno=\", false, function () {\n  return [useDraggable];\n});\n\n_c = DraggableItem;\n\nfunction DraggableItem2({\n  handle,\n  identifier\n}) {\n  _s2();\n\n  const {\n    isDragging,\n    setNodeRef,\n    listeners\n  } = useDraggable({\n    id: String(identifier)\n  });\n  return /*#__PURE__*/_jsxDEV(Draggable2, {\n    dragging: isDragging,\n    ref: setNodeRef,\n    handle: handle,\n    listeners: listeners,\n    style: {\n      opacity: isDragging ? 0 : undefined\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(DraggableItem2, \"nITU3/IULBhQ//L5WdiI3X+UXno=\", false, function () {\n  return [useDraggable];\n});\n\n_c2 = DraggableItem2;\n\nfunction isCaptureValid(toGoPlace, currentPlace, id, redCircles, blackCircles, isKing, tilesChecked, tilesTaken) {\n  if (currentPlace == toGoPlace) {\n    return tilesTaken;\n  }\n\n  if (redCircles.includes(String(currentPlace)) && id === \"black\" || blackCircles.includes(String(currentPlace)) && id === \"red\") {\n    return undefined;\n  }\n\n  if (!(currentPlace % 2 == 0 && toGoPlace % 2 == 0 || currentPlace % 2 != 0 && toGoPlace % 2 != 0)) {\n    return undefined;\n  }\n\n  tilesChecked.push(currentPlace);\n\n  if (isKing) {\n    if (id === \"black\" && redCircles.includes(String(currentPlace + (8 + 1))) && (currentPlace + (8 + 1) > 8 && currentPlace + (8 + 1)) < 56 && (currentPlace + (8 + 1)) % 8 > 2 && (currentPlace + (8 + 1)) % 8 < 7 && tilesChecked.findIndex(tile => tile === currentPlace + 2 * (8 + 1)) == -1) {\n      let result = isCaptureValid(toGoPlace, currentPlace + 2 * (8 + 1), id, redCircles, blackCircles, isKing, tilesChecked, tilesTaken);\n\n      if (result != undefined) {\n        tilesTaken.push(currentPlace + (8 + 1));\n        return tilesTaken;\n      }\n    }\n\n    if (id === \"black\" && redCircles.includes(String(currentPlace + (8 - 1))) && (currentPlace + (8 - 1) > 8 && currentPlace + (8 - 1)) < 56 && (currentPlace + (8 - 1)) % 8 > 2 && (currentPlace + (8 - 1)) % 8 < 7 && tilesChecked.findIndex(tile => tile === currentPlace + 2 * (8 - 1)) == -1) {\n      let result = isCaptureValid(toGoPlace, currentPlace + 2 * (8 - 1), id, redCircles, blackCircles, isKing, tilesChecked, tilesTaken);\n\n      if (result != undefined) {\n        tilesTaken.push(currentPlace + (8 - 1));\n        return tilesTaken;\n      }\n    }\n\n    if (id === \"red\" && blackCircles.includes(String(currentPlace - (8 + 1))) && (currentPlace - (8 + 1) > 8 && currentPlace - (8 + 1)) < 56 && (currentPlace - (8 + 1)) % 8 > 2 && (currentPlace - (8 + 1)) % 8 < 7 && tilesChecked.findIndex(tile => tile === currentPlace - 2 * (8 + 1)) == -1) {\n      let result = isCaptureValid(toGoPlace, currentPlace - 2 * (8 + 1), id, redCircles, blackCircles, isKing, tilesChecked, tilesTaken);\n\n      if (result != undefined) {\n        tilesTaken.push(currentPlace - (8 + 1));\n        return tilesTaken;\n      }\n    }\n\n    if (id === \"red\" && blackCircles.includes(String(currentPlace - (8 - 1))) && (currentPlace - (8 - 1) > 8 && currentPlace - (8 - 1)) < 56 && (currentPlace - (8 - 1)) % 8 > 2 && (currentPlace - (8 - 1)) % 8 < 7 && tilesChecked.findIndex(tile => tile === currentPlace - 2 * (8 - 1)) == -1) {\n      let result = isCaptureValid(toGoPlace, currentPlace - 2 * (8 - 1), id, redCircles, blackCircles, isKing, tilesChecked, tilesTaken);\n\n      if (result != undefined) {\n        tilesTaken.push(currentPlace - (8 - 1));\n        return tilesTaken;\n      }\n    }\n  }\n\n  if (id === \"black\" && redCircles.includes(String(currentPlace - (8 - 1))) && (currentPlace - (8 - 1) > 8 && currentPlace - (8 - 1)) < 56 && (currentPlace - (8 - 1)) % 8 > 2 && (currentPlace - (8 - 1)) % 8 < 7 && tilesChecked.findIndex(tile => tile === currentPlace - 2 * (8 - 1)) == -1) {\n    let result = isCaptureValid(toGoPlace, currentPlace - 2 * (8 - 1), id, redCircles, blackCircles, isKing, tilesChecked, tilesTaken);\n\n    if (result != undefined) {\n      tilesTaken.push(currentPlace - (8 - 1));\n      return tilesTaken;\n    }\n  }\n\n  if (id === \"black\" && redCircles.includes(String(currentPlace - (8 + 1))) && (currentPlace - (8 + 1) > 8 && currentPlace - (8 + 1)) < 56 && (currentPlace - (8 + 1)) % 8 > 2 && (currentPlace - (8 + 1)) % 8 < 7 && tilesChecked.findIndex(tile => tile === currentPlace - 2 * (8 + 1)) == -1) {\n    let result = isCaptureValid(toGoPlace, currentPlace - 2 * (8 + 1), id, redCircles, blackCircles, isKing, tilesChecked, tilesTaken);\n\n    if (result != undefined) {\n      tilesTaken.push(currentPlace - (8 + 1));\n      return tilesTaken;\n    }\n  }\n\n  if (id === \"red\" && blackCircles.includes(String(currentPlace + (8 - 1))) && (currentPlace + (8 - 1) > 8 && currentPlace + (8 - 1)) < 56 && (currentPlace + (8 - 1)) % 8 > 2 && (currentPlace + (8 - 1)) % 8 < 7 && tilesChecked.findIndex(tile => tile === currentPlace + 2 * (8 - 1)) == -1) {\n    let result = isCaptureValid(toGoPlace, currentPlace + 2 * (8 - 1), id, redCircles, blackCircles, isKing, tilesChecked, tilesTaken);\n\n    if (result != undefined) {\n      tilesTaken.push(currentPlace + (8 - 1));\n      return tilesTaken;\n    }\n  }\n\n  let test = (currentPlace + (8 + 1)) % 8;\n\n  if (id === \"red\" && blackCircles.includes(String(currentPlace + (8 + 1))) && (currentPlace + (8 + 1) > 8 && currentPlace + (8 + 1)) < 56 && (currentPlace + (8 + 1)) % 8 > 2 && (currentPlace + (8 + 1)) % 8 < 7 && tilesChecked.findIndex(tile => tile === currentPlace + 2 * (8 + 1)) == -1) {\n    let result = isCaptureValid(toGoPlace, currentPlace + 2 * (8 + 1), id, redCircles, blackCircles, isKing, tilesChecked, tilesTaken);\n\n    if (result != undefined) {\n      tilesTaken.push(currentPlace + (8 + 1));\n      return tilesTaken;\n    }\n  } else {\n    return undefined;\n  }\n}\n\nfunction isValid(toGoPlace, currentPlace, id, redCircles, blackCircles, isKing) {\n  //checks if any pieces exist on the square the player wants to move to\n  if (redCircles.includes(String(toGoPlace)) || blackCircles.includes(String(toGoPlace))) {\n    return false;\n  }\n\n  if (isKing) {\n    //checks if a diagonal move is valid for a king piece\n    if (currentPlace - (8 - 1) == toGoPlace || currentPlace - (8 + 1) == toGoPlace || currentPlace + (8 - 1) == toGoPlace || currentPlace + (8 + 1) == toGoPlace) {\n      return true;\n    }\n  } //checks if move is valid \n\n\n  if ((currentPlace + (8 - 1) == toGoPlace || currentPlace + (8 + 1) == toGoPlace) && id === \"red\") {\n    return true; //checks if move is valid\n  } else if ((currentPlace - (8 - 1) == toGoPlace || currentPlace - (8 + 1) == toGoPlace) && id === \"black\") {\n    return true; //checks if move is valid for taking pieces\n  }\n\n  let tilesChecked = [];\n  let tilesTaken = [];\n  return isCaptureValid(toGoPlace, currentPlace, id, redCircles, blackCircles, isKing, tilesChecked, tilesTaken);\n}\n\nexport function GridGame({\n  modifiers\n}) {\n  _s3();\n\n  var test;\n  const grid = buildGrid();\n  const [parents, setParent] = useState(Array(12).fill(null));\n  const [parent2, setParent2] = useState(Array(12).fill(null));\n  const [isDragging, setIsDragging] = useState(Array(12).fill(false));\n  const [isDragging2, setIsDragging2] = useState(Array(12).fill(false));\n  const [isKing, setIsKing] = useState(Array(12).fill(false));\n  const [isKing2, setIsKing2] = useState(Array(12).fill(false));\n  const draggableCheckersR = [];\n\n  for (var i = 0; i < 12; i++) {\n    const draggable = /*#__PURE__*/_jsxDEV(DraggableItem, {\n      identifier: 'draggable-itemR' + draggableCheckersR.length\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 25\n    }, this);\n\n    draggableCheckersR.push(draggable);\n  }\n\n  const draggableCheckersB = [];\n\n  for (var i = 0; i < 12; i++) {\n    const draggable = /*#__PURE__*/_jsxDEV(DraggableItem2, {\n      identifier: 'draggable-itemB' + draggableCheckersB.length\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 25\n    }, this);\n\n    draggableCheckersB.push(draggable);\n  }\n\n  var counterR = -1;\n  var counterG = -1;\n  const gridSquares = grid.map(row => {\n    const rowSquares = row.map(tile => {\n      var rowIndex = grid.indexOf(row);\n\n      if (Number(tile) % 2 == 0 && rowIndex % 2 == 0 || Number(tile) % 2 != 0 && rowIndex % 2 != 0) {\n        if (tile < 24) {\n          counterR++;\n        }\n\n        if (tile > 40) {\n          counterG++;\n        }\n\n        if (parents[counterR] === null && tile < 24) {\n          parents[counterR] = tile;\n        }\n\n        if (parent2[counterG] === null && tile > 40) {\n          parent2[counterG] = tile;\n        }\n\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Droppable_white, {\n            id: tile,\n            children: [parents[counterR] === null && tile < 24 ? draggableCheckersR[counterR] : null, parent2[counterG] === null && tile > 40 ? draggableCheckersB[counterG] : null, parent2.indexOf(tile) > -1 ? draggableCheckersB[parent2.indexOf(tile)] : '', parents.indexOf(tile) > -1 ? draggableCheckersR[parents.indexOf(tile)] : '']\n          }, tile, true, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 17\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Droppable_Green, {\n            id: tile\n          }, tile, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 20\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 17\n        }, this);\n      }\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\" \", rowSquares, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 17\n    }, this);\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(DndContext, {\n      modifiers: parents.every(element => element === null) ? undefined : parent2.every(element => element === null) ? undefined : modifiers,\n      onDragStart: handleDragStart,\n      onDragEnd: handleDragEnd,\n      onDragCancel: handleDragCancel,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid\",\n        children: gridSquares\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(DragOverlay, {\n        children: [isDragging2.includes(true) ? /*#__PURE__*/_jsxDEV(Draggable2, {\n          dragging: true,\n          dragOverlay: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 49\n        }, this) : null, isDragging.includes(true) ? /*#__PURE__*/_jsxDEV(Draggable, {\n          dragging: true,\n          dragOverlay: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 49\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 272,\n    columnNumber: 7\n  }, this);\n\n  function handleDragStart({\n    active\n  }) {\n    if (active.id.includes(\"draggable-itemR\") && isTurnRed) {\n      let newArray = [...isDragging];\n      let index = active.id;\n      var getIndex = Number(index.match(/\\d+$/));\n      newArray[getIndex] = true;\n      setIsDragging(newArray);\n      isTurnRed = false;\n      isTurnBlack = true;\n    } else if (active.id.includes(\"draggable-itemB\") && isTurnBlack) {\n      let newArray = [...isDragging2];\n      let index = active.id;\n      var getIndex = Number(index.match(/\\d+$/));\n      newArray[getIndex] = true;\n      setIsDragging2(newArray);\n      isTurnRed = true;\n      isTurnBlack = false;\n    }\n  }\n\n  function handleDragEnd(over) {\n    for (var i = 0; i < isDragging.length; i++) {\n      if (isDragging[i] == true) {\n        var _over$over;\n\n        let result = isValid(Number((_over$over = over.over) === null || _over$over === void 0 ? void 0 : _over$over.id), Number(parents[i]), \"red\", parents, parent2, isKing[i]);\n\n        if (result != undefined) {\n          var _over$over2;\n\n          let newArrayParent = [...parents];\n          let newArrayDragging = [...isDragging];\n\n          if (Array.isArray(result)) {\n            let result2 = [...result];\n            let newArrayParent2 = [...parent2];\n            newArrayParent2 = newArrayParent2.filter(function (val) {\n              return result2.indexOf(Number(val)) < 0;\n            });\n            setParent2(newArrayParent2);\n          }\n\n          if (Number(parents[i]) > 56) {\n            let newIsKing = [...isKing];\n            newIsKing[i] = true;\n            setIsKing(newIsKing);\n          }\n\n          newArrayParent[i] = over ? (_over$over2 = over.over) === null || _over$over2 === void 0 ? void 0 : _over$over2.id : null;\n          setParent(newArrayParent);\n          newArrayDragging[i] = false;\n          setIsDragging(newArrayDragging);\n          break;\n        } else {\n          let newArrayDragging = [...isDragging];\n          newArrayDragging[i] = false;\n          setIsDragging(newArrayDragging);\n          isTurnRed = true;\n          isTurnBlack = false;\n        }\n      }\n    }\n\n    for (var i = 0; i < isDragging2.length; i++) {\n      if (isDragging2[i] == true) {\n        var _over$over3;\n\n        let result = isValid(Number((_over$over3 = over.over) === null || _over$over3 === void 0 ? void 0 : _over$over3.id), Number(parent2[i]), \"black\", parents, parent2, isKing2[i]);\n\n        if (result != undefined) {\n          var _over$over4, _over$over5;\n\n          let newArrayParent = [...parent2];\n          let newArrayDragging = [...isDragging2];\n\n          if (Array.isArray(result)) {\n            let result2 = [...result];\n            let newArrayParent2 = [...parents];\n            newArrayParent2 = newArrayParent2.filter(function (val) {\n              return result2.indexOf(Number(val)) < 0;\n            });\n            setParent(newArrayParent2);\n          }\n\n          if (Number((_over$over4 = over.over) === null || _over$over4 === void 0 ? void 0 : _over$over4.id) <= 8) {\n            let newIsKing = [...isKing2];\n            newIsKing[i] = true;\n            setIsKing2(newIsKing);\n          }\n\n          newArrayParent[i] = over ? (_over$over5 = over.over) === null || _over$over5 === void 0 ? void 0 : _over$over5.id : null;\n          setParent2(newArrayParent);\n          newArrayDragging[i] = false;\n          setIsDragging2(newArrayDragging);\n          break;\n        } else {\n          let newArrayDragging = [...isDragging2];\n          newArrayDragging[i] = false;\n          setIsDragging2(newArrayDragging);\n          isTurnRed = false;\n          isTurnBlack = true;\n        }\n      }\n    }\n  }\n\n  function handleDragCancel(event) {\n    if (event.active.id.includes(\"draggable-itemR\")) {\n      let newArray = [...isDragging];\n      let index = event.active.id;\n      var getIndex = Number(index.match(/\\d+$/));\n      newArray[getIndex] = false;\n      setIsDragging(newArray);\n      isTurnRed = true;\n      isTurnBlack = false;\n    } else {\n      let newArray = [...isDragging2];\n      let index = event.active.id;\n      var getIndex = Number(index.match(/\\d+$/));\n      newArray[getIndex] = false;\n      setIsDragging2(newArray);\n      isTurnRed = false;\n      isTurnBlack = true;\n    }\n  }\n}\n\n_s3(GridGame, \"gR2ro+q44qUMgD2z1faBYR/XMUU=\");\n\n_c3 = GridGame;\nexport default GridGame; //<Tile />  \n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"DraggableItem\");\n$RefreshReg$(_c2, \"DraggableItem2\");\n$RefreshReg$(_c3, \"GridGame\");","map":{"version":3,"sources":["/Users/michael/Desktop/sovereign-page/soveriegn-home/src/GridGame.tsx"],"names":["React","useState","DndContext","useDraggable","DragOverlay","Draggable","Droppable_Green","Droppable_white","Draggable2","isTurnRed","isTurnBlack","buildGrid","grid","element","y","x","String","DraggableItem","handle","identifier","isDragging","setNodeRef","listeners","id","opacity","undefined","DraggableItem2","isCaptureValid","toGoPlace","currentPlace","redCircles","blackCircles","isKing","tilesChecked","tilesTaken","includes","push","findIndex","tile","result","test","isValid","GridGame","modifiers","parents","setParent","Array","fill","parent2","setParent2","setIsDragging","isDragging2","setIsDragging2","setIsKing","isKing2","setIsKing2","draggableCheckersR","i","draggable","length","draggableCheckersB","counterR","counterG","gridSquares","map","row","rowSquares","rowIndex","indexOf","Number","every","handleDragStart","handleDragEnd","handleDragCancel","active","newArray","index","getIndex","match","over","newArrayParent","newArrayDragging","isArray","result2","newArrayParent2","filter","val","newIsKing","event"],"mappings":"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","sourcesContent":["import React, { PropsWithoutRef, useState } from 'react';\nimport \"./GridGame.css\";\nimport {\n  DndContext, \n  useDraggable, \n  DragEndEvent, \n  CollisionDetection as CollisionDetectionType, \n  Modifiers, \n  UniqueIdentifier,\n  DragOverlay,\n  DragStartEvent,\n  DragCancelEvent,\n} from '@dnd-kit/core';\nimport {Draggable} from './Draggable';\nimport {Droppable_Green} from './Droppable_green';\nimport {Droppable_white} from './Droppable_white';\nimport {Draggable2} from './Draggable2';\nimport {} from './DraggableProperties';\nimport { timeline } from 'console';\ninterface Props {\n  modifiers?: Modifiers;\n  grid?: string[][];\n}\n\nvar isTurnRed = true;\nvar isTurnBlack = false;\n\nfunction buildGrid() {\n  var grid: string[][] = [];\n  var element = 1;\n  for (let y = 1; y < 9; y++) {\n    grid[y] = [];\n    for (let x = 1; x < 9; x++) {\n      grid[y][x] = String(element);\n      element++;\n    }\n  }\n\n  return grid;\n}\n\n\ninterface DraggableProps {\n  handle?: boolean;\n  identifier? : String\n}\n\n\n\nfunction DraggableItem({handle, identifier}: DraggableProps) {\n  const {isDragging, setNodeRef, listeners} = useDraggable({\n    id: String(identifier),\n  });\n  \n   return (\n    <Draggable\n      dragging={isDragging}\n      ref={setNodeRef}\n      handle={handle}\n      listeners={listeners}\n      style={{\n        opacity: isDragging ? 0 : undefined,\n      }}\n\n    />\n  );\n}\n\n\nfunction DraggableItem2({handle, identifier}: DraggableProps) {\n  const {isDragging, setNodeRef, listeners} = useDraggable({\n    id: String(identifier),\n  });\n   return (\n    <Draggable2\n      dragging={isDragging}\n      ref={setNodeRef}\n      handle={handle}\n      listeners={listeners}\n      style={{\n        opacity: isDragging ? 0 : undefined,\n      }}\n      \n    />\n  );\n}\n\nfunction isCaptureValid(toGoPlace : number, currentPlace: number, id : String, redCircles: String[], blackCircles : String[], isKing : boolean, tilesChecked: number[], tilesTaken: number[]) {\n  \n  if (currentPlace == toGoPlace) {\n    return tilesTaken;\n  }\n\n  if ((redCircles.includes(String(currentPlace)) && id === \"black\") || (blackCircles.includes(String(currentPlace))) && id === \"red\") {\n    return undefined;\n  } \n\n  if (!((currentPlace % 2 == 0 && toGoPlace % 2 == 0) || (currentPlace % 2 != 0 && toGoPlace % 2 != 0))) {\n    return undefined;\n  }\n\n  tilesChecked.push(currentPlace);\n\n  if (isKing) {\n    if (id === \"black\" && redCircles.includes(String(currentPlace + (8+1))) && (currentPlace + (8+1) > 8 && currentPlace + (8+1)) < 56 && (currentPlace + (8+1)) % 8 > 2 && (currentPlace + (8+1)) % 8 < 7 && tilesChecked.findIndex((tile: number) => tile === currentPlace + 2*(8+1)) == -1) {\n      let result = isCaptureValid(toGoPlace, currentPlace + 2*(8+1), id, redCircles, blackCircles, isKing, tilesChecked, tilesTaken);\n      if (result != undefined) {\n        tilesTaken.push(currentPlace + (8+1));\n        return tilesTaken;\n      }\n    } if (id === \"black\" && (redCircles.includes(String(currentPlace + (8-1)))) && (currentPlace + (8-1) > 8 && currentPlace + (8-1)) < 56 && (currentPlace + (8-1)) % 8 > 2 && (currentPlace + (8-1)) % 8 < 7 && tilesChecked.findIndex((tile: number) => tile === currentPlace + 2*(8-1)) == -1) {\n      let result = isCaptureValid(toGoPlace, currentPlace + 2*(8-1), id, redCircles, blackCircles, isKing, tilesChecked, tilesTaken);\n      if (result != undefined) {\n        tilesTaken.push(currentPlace + (8-1));\n        return tilesTaken;\n      }\n    }\n    \n    if (id === \"red\" &&  blackCircles.includes(String(currentPlace - (8+1))) && (currentPlace - (8+1) > 8 && currentPlace - (8+1)) < 56 && (currentPlace - (8+1)) % 8 > 2 && (currentPlace - (8+1)) % 8 < 7 && tilesChecked.findIndex((tile: number) => tile === currentPlace - 2*(8+1)) == -1) {\n      let result = isCaptureValid(toGoPlace, currentPlace - 2*(8+1), id, redCircles, blackCircles, isKing, tilesChecked, tilesTaken);\n      if (result != undefined) {\n        tilesTaken.push(currentPlace - (8+1));\n        return tilesTaken;\n      }\n    }\n\n    if (id === \"red\" && (blackCircles.includes(String(currentPlace - (8-1)))) && (currentPlace - (8-1) > 8 && currentPlace - (8-1)) < 56 && (currentPlace - (8-1)) % 8 > 2 && (currentPlace - (8-1)) % 8 < 7 && tilesChecked.findIndex((tile: number) => tile === currentPlace - 2*(8-1)) == -1) {\n      let result = isCaptureValid(toGoPlace, currentPlace -  2*(8-1), id, redCircles, blackCircles, isKing, tilesChecked, tilesTaken);\n      if (result != undefined) {\n        tilesTaken.push(currentPlace - (8-1));\n        return tilesTaken;\n      }\n    }\n  }\n\n  if (id === \"black\" && (redCircles.includes(String(currentPlace - (8-1)))) && (currentPlace - (8-1) > 8 && currentPlace - (8-1)) < 56 && (currentPlace - (8-1)) % 8 > 2 && (currentPlace - (8-1)) % 8 < 7 && tilesChecked.findIndex((tile: number) => tile === currentPlace - 2*(8-1)) == -1) {\n    let result = isCaptureValid(toGoPlace, currentPlace - 2*(8-1), id, redCircles, blackCircles, isKing, tilesChecked, tilesTaken);\n    if (result != undefined) {\n      tilesTaken.push(currentPlace - (8-1));\n      return tilesTaken;\n    }\n  } \n  \n  if (id === \"black\" && redCircles.includes(String(currentPlace - (8+1))) && (currentPlace - (8+1) > 8 && currentPlace - (8+1)) < 56 && (currentPlace - (8+1)) % 8 > 2 && (currentPlace - (8+1)) % 8 < 7 && tilesChecked.findIndex((tile: number) => tile === currentPlace - 2*(8+1)) == -1) {\n    let result = isCaptureValid(toGoPlace, currentPlace - 2*(8+1), id, redCircles, blackCircles, isKing, tilesChecked, tilesTaken);\n    if (result != undefined) {\n      tilesTaken.push(currentPlace - (8+1));\n      return tilesTaken;\n    }\n  } \n  \n  if (id === \"red\" && (blackCircles.includes(String(currentPlace + (8-1)))) && (currentPlace + (8-1) > 8 && currentPlace + (8-1)) < 56 && (currentPlace + (8-1)) % 8 > 2 && (currentPlace + (8-1)) % 8 < 7 && tilesChecked.findIndex((tile: number) => tile === currentPlace + 2*(8-1)) == -1) {\n    let result = isCaptureValid(toGoPlace, currentPlace + 2*(8-1), id, redCircles, blackCircles, isKing, tilesChecked, tilesTaken);\n    if (result != undefined) {\n      tilesTaken.push(currentPlace + (8-1));\n      return tilesTaken;\n    }\n  } \n  \n  let test = (currentPlace + (8+1)) % 8;\n  if (id ===\"red\" && blackCircles.includes(String(currentPlace + (8+1))) && (currentPlace + (8+1) > 8 && currentPlace + (8+1)) < 56 && (currentPlace + (8+1)) % 8 > 2 && (currentPlace + (8+1)) % 8 < 7 && tilesChecked.findIndex((tile: number) => tile === currentPlace + 2*(8+1)) == -1) {\n    let result = isCaptureValid(toGoPlace, currentPlace + 2*(8+1), id, redCircles, blackCircles, isKing, tilesChecked, tilesTaken);\n    if (result != undefined) {\n      tilesTaken.push(currentPlace + (8+1));\n      return tilesTaken;\n    }\n  } else {\n    return undefined;\n  }\n}\n\nfunction isValid(toGoPlace : number, currentPlace: number, id : String, redCircles: String[], blackCircles : String[], isKing : boolean) {\n  //checks if any pieces exist on the square the player wants to move to\n  if (redCircles.includes(String(toGoPlace)) || blackCircles.includes(String(toGoPlace))) {\n    return false;\n  } \n\n  if (isKing) {\n      //checks if a diagonal move is valid for a king piece\n      if ((currentPlace - (8-1) == toGoPlace || currentPlace - (8+1) == toGoPlace || currentPlace + (8-1) == toGoPlace || currentPlace + (8+1) == toGoPlace)) {\n        return true;\n      }\n  } \n  \n  //checks if move is valid \n  if ((currentPlace + (8-1) == toGoPlace || currentPlace + (8+1) == toGoPlace) && id === \"red\") {\n    return true;\n    //checks if move is valid\n  } else if ((currentPlace - (8-1) == toGoPlace || currentPlace - (8+1) == toGoPlace) && id === \"black\") { \n    return true;\n    //checks if move is valid for taking pieces\n  } \n  let tilesChecked: number[] = [];\n  let tilesTaken: number[] = [];\n  return isCaptureValid(toGoPlace, currentPlace, id, redCircles, blackCircles, isKing, tilesChecked, tilesTaken)\n}\n\nexport function GridGame({modifiers,}: Props) {\n  var test : any;\n    const grid = buildGrid();\n    const [parents, setParent] = useState<UniqueIdentifier[]>(Array(12).fill(null));\n    const [parent2, setParent2] = useState<UniqueIdentifier[]>(Array(12).fill(null));\n    const [isDragging, setIsDragging] = useState<boolean[]>(Array(12).fill(false));\n    const [isDragging2, setIsDragging2] = useState<boolean[]>(Array(12).fill(false));\n    const [isKing, setIsKing] = useState<boolean[]>(Array(12).fill(false))\n    const [isKing2, setIsKing2] = useState<boolean[]>(Array(12).fill(false))\n\n    const draggableCheckersR : any[] = [];\n  \n    for (var i = 0; i < 12; i++) {\n      const draggable = <DraggableItem identifier = {'draggable-itemR'+(draggableCheckersR.length)}/>;\n      draggableCheckersR.push(draggable);\n    }\n\n    const draggableCheckersB : any[] = [];\n  \n    for (var i = 0; i < 12; i++) {\n      const draggable = <DraggableItem2 identifier = {'draggable-itemB'+(draggableCheckersB.length)}/>;\n      draggableCheckersB.push(draggable);\n    }\n\n    var counterR = -1;\n    var counterG = -1;\n\n    const gridSquares = grid.map((row: any[]) => {\n          const rowSquares = row.map((tile:any) => {\n            var rowIndex = grid.indexOf(row);\n           \n            if (((Number(tile)%2 == 0 && rowIndex%2 ==0) || (Number(tile)%2 != 0 && rowIndex%2 !=0))) {\n              \n              if (tile < 24){\n                counterR++;\n              }\n\n              if (tile > 40){\n                counterG++;\n              }\n\n              if (parents[counterR] === null && tile < 24){\n                parents[counterR] = tile;\n              }\n\n              if (parent2[counterG] === null && tile > 40){\n                parent2[counterG] = tile;\n              }\n\n              return (    \n                <div>\n                  <Droppable_white key={tile} id={tile}>\n                    {parents[counterR] === null && tile < 24? draggableCheckersR[counterR]: null}\n                    {parent2[counterG] === null && tile > 40? draggableCheckersB[counterG]: null}\n                    {parent2.indexOf(tile) > -1 ? draggableCheckersB[parent2.indexOf(tile)]: ''}\n                    {parents.indexOf(tile) > -1 ? draggableCheckersR[parents.indexOf(tile)]: ''}\n                  </Droppable_white> \n                </div>  \n              ); \n            } else {\n              return (      \n                <div>\n                   <Droppable_Green key={tile} id={tile}>\n\n                  </Droppable_Green> \n                </div> \n              ); \n            }\n           });\n\n        return (<div> {rowSquares} </div>);\n          });\n\n    return (\n      <div>\n      <DndContext \n        modifiers = {\n          parents.every((element: String | null) => element === null) ? undefined: parent2.every((element: String | null) => element === null) ? undefined: modifiers\n        }\n        onDragStart={handleDragStart}\n        onDragEnd={handleDragEnd}\n        onDragCancel={handleDragCancel}\n        > \n          <div className = \"grid\">\n            \n            {gridSquares}\n          \n            </div>\n              <DragOverlay>\n                  {isDragging2.includes(true) ? <Draggable2 dragging dragOverlay /> : null}\n                  {isDragging.includes(true) ?  <Draggable dragging dragOverlay /> : null}\n              </DragOverlay>\n        </DndContext> \n        </div>\n    );\n\n    function handleDragStart({ active}: DragStartEvent  ) {\n          if (active.id.includes(\"draggable-itemR\") && isTurnRed){\n            let newArray = [...isDragging];\n            let index = active.id\n            var getIndex = Number(index.match(/\\d+$/));\n            newArray[getIndex] = true;\n            setIsDragging(newArray);\n            isTurnRed = false;\n            isTurnBlack = true;\n          } else if (active.id.includes(\"draggable-itemB\") && isTurnBlack) {\n            let newArray = [...isDragging2];\n            let index = active.id\n            var getIndex = Number(index.match(/\\d+$/));\n            newArray[getIndex] = true;\n            setIsDragging2(newArray);\n            isTurnRed = true;\n            isTurnBlack = false;\n          }\n    }\n    function handleDragEnd(over: DragEndEvent) {\n      for (var i = 0; i < isDragging.length; i++) {\n        if (isDragging[i] == true) {\n          let result = isValid(Number(over.over?.id), Number(parents[i]), \"red\", parents, parent2, isKing[i]);\n          if (result != undefined){\n            let newArrayParent = [...parents];\n            let newArrayDragging = [...isDragging];\n            \n            if (Array.isArray(result)) {\n              let result2 = [...result]\n              let newArrayParent2 = [...parent2];\n              newArrayParent2 = newArrayParent2.filter(function(val) {\n                return result2.indexOf(Number(val)) < 0; \n              });\n              setParent2(newArrayParent2);\n            }\n\n            if (Number(parents[i])> 56) {\n              let newIsKing = [...isKing];\n              newIsKing[i] = true;\n              setIsKing(newIsKing);\n            }\n\n            newArrayParent[i] = (over ? over.over?.id : null as any);\n            setParent(newArrayParent);\n            \n            newArrayDragging[i] = false;\n            setIsDragging(newArrayDragging);\n            break;\n          } else {\n            let newArrayDragging = [...isDragging];\n            newArrayDragging[i] = false;\n            setIsDragging(newArrayDragging);\n            isTurnRed = true;\n            isTurnBlack = false;\n          }\n        } \n      }\n\n      for (var i = 0; i < isDragging2.length; i++) {\n        if (isDragging2[i] == true) {\n          let result = isValid(Number(over.over?.id), Number(parent2[i]), \"black\", parents, parent2, isKing2[i])\n          if (result != undefined) {\n            let newArrayParent = [...parent2];\n            let newArrayDragging = [...isDragging2];\n                        \n            if (Array.isArray(result)) {\n              let result2 = [...result]\n              let newArrayParent2 = [...parents];\n              newArrayParent2 = newArrayParent2.filter(function(val) {\n                return result2.indexOf(Number(val)) < 0; \n              });\n              setParent(newArrayParent2);\n            }\n            if (Number(over.over?.id) <= 8) {\n              let newIsKing = [...isKing2];\n              newIsKing[i] = true;\n              setIsKing2(newIsKing);\n            }\n\n            newArrayParent[i] = (over ? over.over?.id : null as any);\n            setParent2(newArrayParent);\n            \n            newArrayDragging[i] = false;\n            setIsDragging2(newArrayDragging);\n            break;\n          } else {\n            let newArrayDragging = [...isDragging2];\n            newArrayDragging[i] = false;\n            setIsDragging2(newArrayDragging);\n            isTurnRed = false;\n            isTurnBlack = true;\n          }\n        }\n      }\n    }\n\n    function handleDragCancel(event : DragCancelEvent) {\n      if (event.active.id.includes(\"draggable-itemR\")){\n        let newArray = [...isDragging];\n        let index = event.active.id\n        var getIndex = Number(index.match(/\\d+$/));\n        newArray[getIndex] = false;\n        setIsDragging(newArray);\n        isTurnRed = true;\n        isTurnBlack = false;\n      } else {\n        let newArray = [...isDragging2];\n        let index = event.active.id\n        var getIndex = Number(index.match(/\\d+$/));\n        newArray[getIndex] = false;\n        setIsDragging2(newArray);\n        isTurnRed = false;\n        isTurnBlack = true;\n      }\n    }\n    \n}\n\n\nexport default GridGame;\n//<Tile />  "]},"metadata":{},"sourceType":"module"}