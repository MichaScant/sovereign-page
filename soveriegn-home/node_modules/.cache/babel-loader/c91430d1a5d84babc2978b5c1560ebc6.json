{"ast":null,"code":"var _jsxFileName = \"/Users/michael/Desktop/sovereign-page/soveriegn-home/src/GridGame.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport \"./GridGame.css\";\nimport { DndContext, useDraggable, DragOverlay } from '@dnd-kit/core';\nimport { Draggable } from './Draggable';\nimport { Droppable_Green } from './Droppable_green';\nimport { Droppable_white } from './Droppable_white';\nimport { Draggable2 } from './Draggable2';\nimport './DraggableProperties';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar isTurnRed = true;\nvar isTurnBlack = false;\n\nfunction buildGrid() {\n  var grid = [];\n  var element = 1;\n\n  for (let y = 1; y < 9; y++) {\n    grid[y] = [];\n\n    for (let x = 1; x < 9; x++) {\n      grid[y][x] = String(element);\n      element++;\n    }\n  }\n\n  return grid;\n}\n\nfunction DraggableItem({\n  handle,\n  identifier\n}) {\n  _s();\n\n  const {\n    isDragging,\n    setNodeRef,\n    listeners\n  } = useDraggable({\n    id: String(identifier)\n  });\n  return /*#__PURE__*/_jsxDEV(Draggable, {\n    dragging: isDragging,\n    ref: setNodeRef,\n    handle: handle,\n    listeners: listeners,\n    style: {\n      opacity: isDragging ? 0 : undefined\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n\n_s(DraggableItem, \"nITU3/IULBhQ//L5WdiI3X+UXno=\", false, function () {\n  return [useDraggable];\n});\n\n_c = DraggableItem;\n\nfunction DraggableItem2({\n  handle,\n  identifier\n}) {\n  _s2();\n\n  const {\n    isDragging,\n    setNodeRef,\n    listeners\n  } = useDraggable({\n    id: String(identifier)\n  });\n  return /*#__PURE__*/_jsxDEV(Draggable2, {\n    dragging: isDragging,\n    ref: setNodeRef,\n    handle: handle,\n    listeners: listeners,\n    style: {\n      opacity: isDragging ? 0 : undefined\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(DraggableItem2, \"nITU3/IULBhQ//L5WdiI3X+UXno=\", false, function () {\n  return [useDraggable];\n});\n\n_c2 = DraggableItem2;\n\nfunction isValid(toGoPlace, currentPlace, id, redCircles, blackCircles, isKing) {\n  if (redCircles.includes(String(toGoPlace)) || blackCircles.includes(String(toGoPlace))) {\n    return false;\n  }\n\n  if (isKing) {\n    if (currentPlace - (8 - 1) == toGoPlace || currentPlace - (8 + 1) == toGoPlace || currentPlace + (8 - 1) == toGoPlace || currentPlace + (8 + 1) == toGoPlace) {\n      return true;\n    } else if (id === \"black\" && (redCircles.includes(String(toGoPlace - (8 - 1))) || redCircles.includes(String(toGoPlace - (8 + 1))))) {\n      return true;\n    } else if (id === \"red\" && (blackCircles.includes(String(toGoPlace + (8 - 1))) || blackCircles.includes(String(toGoPlace + (8 + 1))))) {\n      return true;\n    }\n  }\n\n  if ((currentPlace + (8 - 1) == toGoPlace || currentPlace + (8 + 1) == toGoPlace) && id === \"red\") {\n    return true;\n  } else if ((currentPlace - (8 - 1) == toGoPlace || currentPlace - (8 + 1) == toGoPlace) && id === \"black\") {\n    return true;\n  } else if (id === \"black\" && (redCircles.includes(String(toGoPlace + (8 - 1))) || redCircles.includes(String(toGoPlace + (8 + 1))))) {\n    return true;\n  } else if (id === \"red\" && (blackCircles.includes(String(toGoPlace - (8 - 1))) || blackCircles.includes(String(toGoPlace - (8 + 1))))) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nexport function GridGame({\n  modifiers\n}) {\n  _s3();\n\n  var test;\n  const grid = buildGrid();\n  const [parents, setParent] = useState(Array(12).fill(null));\n  const [parent2, setParent2] = useState(Array(12).fill(null));\n  const [isDragging, setIsDragging] = useState(Array(12).fill(false));\n  const [isDragging2, setIsDragging2] = useState(Array(12).fill(false));\n  const [isKing, setIsKing] = useState(Array(12).fill(false));\n  const [isKing2, setIsKing2] = useState(Array(12).fill(false));\n  const draggableCheckersR = [];\n\n  for (var i = 0; i < 12; i++) {\n    const draggable = /*#__PURE__*/_jsxDEV(DraggableItem, {\n      identifier: 'draggable-itemR' + draggableCheckersR.length\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 25\n    }, this);\n\n    draggableCheckersR.push(draggable);\n  }\n\n  const draggableCheckersB = [];\n\n  for (var i = 0; i < 12; i++) {\n    const draggable = /*#__PURE__*/_jsxDEV(DraggableItem2, {\n      identifier: 'draggable-itemB' + draggableCheckersB.length\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 25\n    }, this);\n\n    draggableCheckersB.push(draggable);\n  }\n\n  var counterR = -1;\n  var counterG = -1;\n  const gridSquares = grid.map(row => {\n    const rowSquares = row.map(tile => {\n      var rowIndex = grid.indexOf(row);\n\n      if (Number(tile) % 2 == 0 && rowIndex % 2 == 0 || Number(tile) % 2 != 0 && rowIndex % 2 != 0) {\n        if (tile < 24) {\n          counterR++;\n        }\n\n        if (tile > 40) {\n          counterG++;\n        }\n\n        if (parents[counterR] === null && tile < 24) {\n          parents[counterR] = tile;\n        }\n\n        if (parent2[counterG] === null && tile > 40) {\n          parent2[counterG] = tile;\n        }\n\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Droppable_white, {\n            id: tile,\n            children: [parents[counterR] === null && tile < 24 ? draggableCheckersR[counterR] : null, parent2[counterG] === null && tile > 40 ? draggableCheckersB[counterG] : null, parent2.indexOf(tile) > -1 ? draggableCheckersB[parent2.indexOf(tile)] : '', parents.indexOf(tile) > -1 ? draggableCheckersR[parents.indexOf(tile)] : '']\n          }, tile, true, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 17\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Droppable_Green, {\n            id: tile\n          }, tile, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 20\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 17\n        }, this);\n      }\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\" \", rowSquares, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 17\n    }, this);\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(DndContext, {\n      modifiers: parents.every(element => element === null) ? undefined : parent2.every(element => element === null) ? undefined : modifiers,\n      onDragStart: handleDragStart,\n      onDragEnd: handleDragEnd,\n      onDragCancel: handleDragCancel,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid\",\n        children: gridSquares\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(DragOverlay, {\n        children: [isDragging2.includes(true) ? /*#__PURE__*/_jsxDEV(Draggable2, {\n          dragging: true,\n          dragOverlay: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 49\n        }, this) : null, isDragging.includes(true) ? /*#__PURE__*/_jsxDEV(Draggable, {\n          dragging: true,\n          dragOverlay: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 49\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 189,\n    columnNumber: 7\n  }, this);\n\n  function handleDragStart({\n    active\n  }) {\n    if (active.id.includes(\"draggable-itemR\") && isTurnRed) {\n      let newArray = [...isDragging];\n      let index = active.id;\n      var getIndex = Number(index.match(/\\d+$/));\n      newArray[getIndex] = true;\n      setIsDragging(newArray);\n      isTurnRed = false;\n      isTurnBlack = true;\n    } else if (active.id.includes(\"draggable-itemB\") && isTurnBlack) {\n      let newArray = [...isDragging2];\n      let index = active.id;\n      var getIndex = Number(index.match(/\\d+$/));\n      newArray[getIndex] = true;\n      setIsDragging2(newArray);\n      isTurnRed = true;\n      isTurnBlack = false;\n    }\n  }\n\n  function handleDragEnd(over) {\n    for (var i = 0; i < isDragging.length; i++) {\n      if (isDragging[i] == true) {\n        var _over$over;\n\n        if (isValid(Number((_over$over = over.over) === null || _over$over === void 0 ? void 0 : _over$over.id), Number(parents[i]), \"red\", parents, parent2, isKing[i])) {\n          var _over$over2, _over$over4, _over$over6;\n\n          let newArrayParent = [...parents];\n          let newArrayDragging = [...isDragging];\n\n          if (parent2.includes(String(Number((_over$over2 = over.over) === null || _over$over2 === void 0 ? void 0 : _over$over2.id) - (8 + 1))) && parent2.includes(String(Number(parents[i]) + 9))) {\n            var _over$over3;\n\n            let newArrayParent2 = [...parent2];\n            delete newArrayParent2[parent2.indexOf(String(Number((_over$over3 = over.over) === null || _over$over3 === void 0 ? void 0 : _over$over3.id) - (8 + 1)))];\n            setParent2(newArrayParent2);\n          }\n\n          if (parent2.includes(String(Number((_over$over4 = over.over) === null || _over$over4 === void 0 ? void 0 : _over$over4.id) - (8 - 1))) && parent2.includes(String(Number(parents[i]) + 7))) {\n            var _over$over5;\n\n            let newArrayParent2 = [...parent2];\n            delete newArrayParent2[parent2.indexOf(String(Number((_over$over5 = over.over) === null || _over$over5 === void 0 ? void 0 : _over$over5.id) - (8 - 1)))];\n            setParent2(newArrayParent2);\n          }\n\n          if (Number(parents[i]) > 56) {\n            let newIsKing = [...isKing];\n            newIsKing[i] = true;\n            setIsKing(newIsKing);\n          }\n\n          newArrayParent[i] = over ? (_over$over6 = over.over) === null || _over$over6 === void 0 ? void 0 : _over$over6.id : null;\n          setParent(newArrayParent);\n          newArrayDragging[i] = false;\n          setIsDragging(newArrayDragging);\n          break;\n        } else {\n          let newArrayDragging = [...isDragging];\n          newArrayDragging[i] = false;\n          setIsDragging(newArrayDragging);\n          isTurnRed = true;\n          isTurnBlack = false;\n        }\n      }\n    }\n\n    for (var i = 0; i < isDragging2.length; i++) {\n      if (isDragging2[i] == true) {\n        var _over$over7;\n\n        if (isValid(Number((_over$over7 = over.over) === null || _over$over7 === void 0 ? void 0 : _over$over7.id), Number(parent2[i]), \"black\", parents, parent2, isKing2[i])) {\n          var _over$over8, _over$over9, _over$over11, _over$over12, _over$over14, _over$over15, _over$over17, _over$over18, _over$over20, _over$over21;\n\n          let newArrayParent = [...parent2];\n          let newArrayDragging = [...isDragging2];\n\n          if (isKing2[i] === true && parents.includes(String(Number((_over$over8 = over.over) === null || _over$over8 === void 0 ? void 0 : _over$over8.id) - 9)) && parents.includes(String(Number(parent2[i]) + 9)) && String(Number((_over$over9 = over.over) === null || _over$over9 === void 0 ? void 0 : _over$over9.id) - 9) == String(Number(parent2[i]) + 9)) {\n            var _over$over10;\n\n            let newArrayParent = [...parents];\n            delete newArrayParent[parents.indexOf(String(Number((_over$over10 = over.over) === null || _over$over10 === void 0 ? void 0 : _over$over10.id) - (8 + 1)))];\n            setParent(newArrayParent);\n          }\n\n          if (isKing2[i] === true && parents.includes(String(Number((_over$over11 = over.over) === null || _over$over11 === void 0 ? void 0 : _over$over11.id) - 7)) && parents.includes(String(Number(parents[i]) + 7)) && String(Number((_over$over12 = over.over) === null || _over$over12 === void 0 ? void 0 : _over$over12.id) - (8 + 1)) == String(Number(parent2[i]) + 7)) {\n            var _over$over13;\n\n            let newArrayParent = [...parents];\n            delete newArrayParent[parents.indexOf(String(Number((_over$over13 = over.over) === null || _over$over13 === void 0 ? void 0 : _over$over13.id) - (8 - 1)))];\n            setParent(newArrayParent);\n          }\n\n          if (parents.includes(String(Number((_over$over14 = over.over) === null || _over$over14 === void 0 ? void 0 : _over$over14.id) + (8 + 1))) && parents.includes(String(Number(parent2[i]) - 9)) && String(Number((_over$over15 = over.over) === null || _over$over15 === void 0 ? void 0 : _over$over15.id) + (8 + 1)) == String(Number(parent2[i]) - 9)) {\n            var _over$over16;\n\n            let newArrayParent2 = [...parents];\n            delete newArrayParent2[parents.indexOf(String(Number((_over$over16 = over.over) === null || _over$over16 === void 0 ? void 0 : _over$over16.id) + (8 + 1)))];\n            setParent(newArrayParent2);\n          }\n\n          if (parents.includes(String(Number((_over$over17 = over.over) === null || _over$over17 === void 0 ? void 0 : _over$over17.id) + (8 - 1))) && parents.includes(String(Number(parent2[i]) - 7)) && String(Number((_over$over18 = over.over) === null || _over$over18 === void 0 ? void 0 : _over$over18.id) + (8 - 1)) == String(Number(parent2[i]) - 7)) {\n            var _over$over19;\n\n            let newArrayParent2 = [...parents];\n            delete newArrayParent2[parents.indexOf(String(Number((_over$over19 = over.over) === null || _over$over19 === void 0 ? void 0 : _over$over19.id) + (8 - 1)))];\n            setParent(newArrayParent2);\n          }\n\n          if (Number((_over$over20 = over.over) === null || _over$over20 === void 0 ? void 0 : _over$over20.id) <= 8) {\n            let newIsKing = [...isKing2];\n            newIsKing[i] = true;\n            setIsKing2(newIsKing);\n          }\n\n          newArrayParent[i] = over ? (_over$over21 = over.over) === null || _over$over21 === void 0 ? void 0 : _over$over21.id : null;\n          setParent2(newArrayParent);\n          newArrayDragging[i] = false;\n          setIsDragging2(newArrayDragging);\n          break;\n        } else {\n          let newArrayDragging = [...isDragging2];\n          newArrayDragging[i] = false;\n          setIsDragging2(newArrayDragging);\n          isTurnRed = false;\n          isTurnBlack = true;\n        }\n      }\n    }\n  }\n\n  function handleDragCancel(event) {\n    if (event.active.id.includes(\"draggable-itemR\")) {\n      let newArray = [...isDragging];\n      let index = event.active.id;\n      var getIndex = Number(index.match(/\\d+$/));\n      newArray[getIndex] = false;\n      setIsDragging(newArray);\n      isTurnRed = true;\n      isTurnBlack = false;\n    } else {\n      let newArray = [...isDragging2];\n      let index = event.active.id;\n      var getIndex = Number(index.match(/\\d+$/));\n      newArray[getIndex] = false;\n      setIsDragging2(newArray);\n      isTurnRed = false;\n      isTurnBlack = true;\n    }\n  }\n}\n\n_s3(GridGame, \"gR2ro+q44qUMgD2z1faBYR/XMUU=\");\n\n_c3 = GridGame;\nexport default GridGame; //<Tile />  \n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"DraggableItem\");\n$RefreshReg$(_c2, \"DraggableItem2\");\n$RefreshReg$(_c3, \"GridGame\");","map":{"version":3,"sources":["/Users/michael/Desktop/sovereign-page/soveriegn-home/src/GridGame.tsx"],"names":["React","useState","DndContext","useDraggable","DragOverlay","Draggable","Droppable_Green","Droppable_white","Draggable2","isTurnRed","isTurnBlack","buildGrid","grid","element","y","x","String","DraggableItem","handle","identifier","isDragging","setNodeRef","listeners","id","opacity","undefined","DraggableItem2","isValid","toGoPlace","currentPlace","redCircles","blackCircles","isKing","includes","GridGame","modifiers","test","parents","setParent","Array","fill","parent2","setParent2","setIsDragging","isDragging2","setIsDragging2","setIsKing","isKing2","setIsKing2","draggableCheckersR","i","draggable","length","push","draggableCheckersB","counterR","counterG","gridSquares","map","row","rowSquares","tile","rowIndex","indexOf","Number","every","handleDragStart","handleDragEnd","handleDragCancel","active","newArray","index","getIndex","match","over","newArrayParent","newArrayDragging","newArrayParent2","newIsKing","event"],"mappings":"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","sourcesContent":["import React, { PropsWithoutRef, useState } from 'react';\nimport \"./GridGame.css\";\nimport {\n  DndContext, \n  useDraggable, \n  DragEndEvent, \n  CollisionDetection as CollisionDetectionType, \n  Modifiers, \n  UniqueIdentifier,\n  DragOverlay,\n  DragStartEvent,\n  DragCancelEvent,\n} from '@dnd-kit/core';\nimport {Draggable} from './Draggable';\nimport {Droppable_Green} from './Droppable_green';\nimport {Droppable_white} from './Droppable_white';\nimport {Draggable2} from './Draggable2';\nimport {} from './DraggableProperties';\nimport { timeline } from 'console';\ninterface Props {\n  modifiers?: Modifiers;\n  grid?: string[][];\n}\n\nvar isTurnRed = true;\nvar isTurnBlack = false;\n\nfunction buildGrid() {\n  var grid: string[][] = [];\n  var element = 1;\n  for (let y = 1; y < 9; y++) {\n    grid[y] = [];\n    for (let x = 1; x < 9; x++) {\n      grid[y][x] = String(element);\n      element++;\n    }\n  }\n\n  return grid;\n}\n\n\ninterface DraggableProps {\n  handle?: boolean;\n  identifier? : String\n}\n\n\n\nfunction DraggableItem({handle, identifier}: DraggableProps) {\n  const {isDragging, setNodeRef, listeners} = useDraggable({\n    id: String(identifier),\n  });\n  \n   return (\n    <Draggable\n      dragging={isDragging}\n      ref={setNodeRef}\n      handle={handle}\n      listeners={listeners}\n      style={{\n        opacity: isDragging ? 0 : undefined,\n      }}\n\n    />\n  );\n}\n\n\nfunction DraggableItem2({handle, identifier}: DraggableProps) {\n  const {isDragging, setNodeRef, listeners} = useDraggable({\n    id: String(identifier),\n  });\n   return (\n    <Draggable2\n      dragging={isDragging}\n      ref={setNodeRef}\n      handle={handle}\n      listeners={listeners}\n      style={{\n        opacity: isDragging ? 0 : undefined,\n      }}\n      \n    />\n  );\n}\n\nfunction isValid(toGoPlace : number, currentPlace: number, id : String, redCircles: String[], blackCircles : String[], isKing : boolean) {\n  if (redCircles.includes(String(toGoPlace)) || blackCircles.includes(String(toGoPlace))) {\n    return false;\n  } \n  if (isKing) {\n      if ((currentPlace - (8-1) == toGoPlace || currentPlace - (8+1) == toGoPlace || currentPlace + (8-1) == toGoPlace || currentPlace + (8+1) == toGoPlace)) {\n        return true;\n      } else if (id === \"black\" && (redCircles.includes(String(toGoPlace - (8-1))) || redCircles.includes(String(toGoPlace - (8+1))))) {\n        return true\n      } else if (id === \"red\" && (blackCircles.includes(String(toGoPlace + (8-1))) || blackCircles.includes(String(toGoPlace + (8+1))))) {\n        return true;\n      }\n  } \n  \n  if ((currentPlace + (8-1) == toGoPlace || currentPlace + (8+1) == toGoPlace) && id === \"red\") {\n    return true;\n  } else if ((currentPlace - (8-1) == toGoPlace || currentPlace - (8+1) == toGoPlace) && id === \"black\") { \n    return true;\n  } else if (id === \"black\" && (redCircles.includes(String(toGoPlace + (8-1))) || redCircles.includes(String(toGoPlace + (8+1))))) {\n    return true;\n  } else if (id === \"red\" && (blackCircles.includes(String(toGoPlace - (8-1))) || blackCircles.includes(String(toGoPlace - (8+1))))) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nexport function GridGame({modifiers,}: Props) {\n  var test : any;\n    const grid = buildGrid();\n    const [parents, setParent] = useState<UniqueIdentifier[]>(Array(12).fill(null));\n    const [parent2, setParent2] = useState<UniqueIdentifier[]>(Array(12).fill(null));\n    const [isDragging, setIsDragging] = useState<boolean[]>(Array(12).fill(false));\n    const [isDragging2, setIsDragging2] = useState<boolean[]>(Array(12).fill(false));\n    const [isKing, setIsKing] = useState<boolean[]>(Array(12).fill(false))\n    const [isKing2, setIsKing2] = useState<boolean[]>(Array(12).fill(false))\n\n    const draggableCheckersR : any[] = [];\n  \n    for (var i = 0; i < 12; i++) {\n      const draggable = <DraggableItem identifier = {'draggable-itemR'+(draggableCheckersR.length)}/>;\n      draggableCheckersR.push(draggable);\n    }\n\n    const draggableCheckersB : any[] = [];\n  \n    for (var i = 0; i < 12; i++) {\n      const draggable = <DraggableItem2 identifier = {'draggable-itemB'+(draggableCheckersB.length)}/>;\n      draggableCheckersB.push(draggable);\n    }\n\n    var counterR = -1;\n    var counterG = -1;\n\n    const gridSquares = grid.map((row: any[]) => {\n          const rowSquares = row.map((tile:any) => {\n            var rowIndex = grid.indexOf(row);\n           \n            if (((Number(tile)%2 == 0 && rowIndex%2 ==0) || (Number(tile)%2 != 0 && rowIndex%2 !=0))) {\n              \n              if (tile < 24){\n                counterR++;\n              }\n\n              if (tile > 40){\n                counterG++;\n              }\n\n              if (parents[counterR] === null && tile < 24){\n                parents[counterR] = tile;\n              }\n\n              if (parent2[counterG] === null && tile > 40){\n                parent2[counterG] = tile;\n              }\n\n              return (    \n                <div>\n                  <Droppable_white key={tile} id={tile}>\n                    {parents[counterR] === null && tile < 24? draggableCheckersR[counterR]: null}\n                    {parent2[counterG] === null && tile > 40? draggableCheckersB[counterG]: null}\n                    {parent2.indexOf(tile) > -1 ? draggableCheckersB[parent2.indexOf(tile)]: ''}\n                    {parents.indexOf(tile) > -1 ? draggableCheckersR[parents.indexOf(tile)]: ''}\n                  </Droppable_white> \n                </div>  \n              ); \n            } else {\n              return (      \n                <div>\n                   <Droppable_Green key={tile} id={tile}>\n\n                  </Droppable_Green> \n                </div> \n              ); \n            }\n           });\n\n        return (<div> {rowSquares} </div>);\n          });\n\n    return (\n      <div>\n      <DndContext \n        modifiers = {\n          parents.every((element: String | null) => element === null) ? undefined: parent2.every((element: String | null) => element === null) ? undefined: modifiers\n        }\n        onDragStart={handleDragStart}\n        onDragEnd={handleDragEnd}\n        onDragCancel={handleDragCancel}\n        > \n          <div className = \"grid\">\n            \n            {gridSquares}\n          \n            </div>\n              <DragOverlay>\n                  {isDragging2.includes(true) ? <Draggable2 dragging dragOverlay /> : null}\n                  {isDragging.includes(true) ?  <Draggable dragging dragOverlay /> : null}\n              </DragOverlay>\n        </DndContext> \n        </div>\n    );\n\n    function handleDragStart({ active}: DragStartEvent  ) {\n          if (active.id.includes(\"draggable-itemR\") && isTurnRed){\n            let newArray = [...isDragging];\n            let index = active.id\n            var getIndex = Number(index.match(/\\d+$/));\n            newArray[getIndex] = true;\n            setIsDragging(newArray);\n            isTurnRed = false;\n            isTurnBlack = true;\n          } else if (active.id.includes(\"draggable-itemB\") && isTurnBlack) {\n            let newArray = [...isDragging2];\n            let index = active.id\n            var getIndex = Number(index.match(/\\d+$/));\n            newArray[getIndex] = true;\n            setIsDragging2(newArray);\n            isTurnRed = true;\n            isTurnBlack = false;\n          }\n    }\n\n    function handleDragEnd(over: DragEndEvent) {\n      for (var i = 0; i < isDragging.length; i++) {\n        if (isDragging[i] == true) {\n          if (isValid(Number(over.over?.id), Number(parents[i]), \"red\", parents, parent2, isKing[i])){\n            let newArrayParent = [...parents];\n            let newArrayDragging = [...isDragging];\n\n\n            if (parent2.includes(String(Number(over.over?.id) - (8+1))) && parent2.includes(String(Number(parents[i]) + (9)))) {\n              let newArrayParent2 = [...parent2];\n              delete newArrayParent2[parent2.indexOf(String(Number(over.over?.id) - (8+1)))];\n              setParent2(newArrayParent2);\n            }\n\n            if (parent2.includes(String(Number(over.over?.id) - (8-1))) && parent2.includes(String(Number(parents[i]) + (7)))) {\n              let newArrayParent2 = [...parent2];\n              delete newArrayParent2[parent2.indexOf(String(Number(over.over?.id) - (8-1)))];\n              setParent2(newArrayParent2);\n            }\n\n            if (Number(parents[i])> 56) {\n              let newIsKing = [...isKing];\n              newIsKing[i] = true;\n              setIsKing(newIsKing);\n            }\n\n            newArrayParent[i] = (over ? over.over?.id : null as any);\n            setParent(newArrayParent);\n            \n            newArrayDragging[i] = false;\n            setIsDragging(newArrayDragging);\n            break;\n          } else {\n            let newArrayDragging = [...isDragging];\n            newArrayDragging[i] = false;\n            setIsDragging(newArrayDragging);\n            isTurnRed = true;\n            isTurnBlack = false;\n          }\n        } \n      }\n\n      for (var i = 0; i < isDragging2.length; i++) {\n        if (isDragging2[i] == true) {\n          if (isValid(Number(over.over?.id), Number(parent2[i]), \"black\", parents, parent2, isKing2[i])) {\n            let newArrayParent = [...parent2];\n            let newArrayDragging = [...isDragging2];\n                        \n            if ((isKing2[i] === true) && (parents.includes(String(Number(over.over?.id) - (9))) && parents.includes(String(Number(parent2[i]) + (9)))) && String(Number(over.over?.id) - (9)) == String(Number(parent2[i]) + 9)) {\n              let newArrayParent = [...parents];\n              delete newArrayParent[parents.indexOf(String(Number(over.over?.id) - (8+1)))];\n              setParent(newArrayParent);\n            }\n\n            if ((isKing2[i] === true) && (parents.includes(String(Number(over.over?.id) - (7))) && parents.includes(String(Number(parents[i]) + (7)))) && String(Number(over.over?.id) - (8+1)) == String(Number(parent2[i]) + 7)) {\n              let newArrayParent = [...parents];\n              delete newArrayParent[parents.indexOf(String(Number(over.over?.id) - (8-1)))];\n              setParent(newArrayParent);\n            }\n            \n            if ((parents.includes(String(Number(over.over?.id) + (8+1)))) && parents.includes(String(Number(parent2[i]) - 9)) && String(Number(over.over?.id) + (8+1)) == String(Number(parent2[i]) - 9)) {\n              let newArrayParent2 = [...parents];\n              delete newArrayParent2[parents.indexOf(String(Number(over.over?.id) + (8+1)))];\n              setParent(newArrayParent2);\n            }\n\n            if (parents.includes(String(Number(over.over?.id) + (8-1))) && parents.includes(String(Number(parent2[i]) - 7)) && String(Number(over.over?.id) + (8-1)) == String(Number(parent2[i]) - 7)) {\n              let newArrayParent2 = [...parents];\n              delete newArrayParent2[parents.indexOf(String(Number(over.over?.id) + (8-1)))];\n              setParent(newArrayParent2);\n            }\n\n            if (Number(over.over?.id) <= 8) {\n              let newIsKing = [...isKing2];\n              newIsKing[i] = true;\n              setIsKing2(newIsKing);\n            }\n\n            newArrayParent[i] = (over ? over.over?.id : null as any);\n            setParent2(newArrayParent);\n            \n            newArrayDragging[i] = false;\n            setIsDragging2(newArrayDragging);\n            break;\n          } else {\n            let newArrayDragging = [...isDragging2];\n            newArrayDragging[i] = false;\n            setIsDragging2(newArrayDragging);\n            isTurnRed = false;\n            isTurnBlack = true;\n          }\n        }\n      }\n    }\n\n    function handleDragCancel(event : DragCancelEvent) {\n      if (event.active.id.includes(\"draggable-itemR\")){\n        let newArray = [...isDragging];\n        let index = event.active.id\n        var getIndex = Number(index.match(/\\d+$/));\n        newArray[getIndex] = false;\n        setIsDragging(newArray);\n        isTurnRed = true;\n        isTurnBlack = false;\n      } else {\n        let newArray = [...isDragging2];\n        let index = event.active.id\n        var getIndex = Number(index.match(/\\d+$/));\n        newArray[getIndex] = false;\n        setIsDragging2(newArray);\n        isTurnRed = false;\n        isTurnBlack = true;\n      }\n    }\n    \n}\n\n\nexport default GridGame;\n//<Tile />  "]},"metadata":{},"sourceType":"module"}